<div id="page-marker"></div>
<script id="topicListTmp" type="text/x-jquery-tmpl">
<%- partial('../topic/_abstract') %>
</script>
<script id="picBoxTmp" type="text/x-jquery-tmpl">
<%- partial('../topic/_pic_box') %>
</script>
<script id="boardTemplate" type="text/x-jquery-tmpl">
<%- partial('../topic/_board_list') %>
</script>

<!-- Upload 图片的 Modal 层 -->
<!-- DONE(hhdem) modal 层会不定时的覆盖屏幕区域,点击会弹出选择图片窗口 -->
<!-- FIXME(hhdem) 点击上传图片后弹出的模态框中确认上传按钮样式错误 -->
<!-- TODO(hhdem) chrome 插件直接采集 -->
<!-- DONE(hhdem) 弹出层上传文件, 文件只能单选, 默认描述是文件名 -->
<div class="modal fade" id="image_upload" role="dialog" aria-hidden="true" aria-labelledby="exampleModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">上传图片</h5>
            </div>
            <div class="modal-body">
                <div id="upload_area"  class="upload-area" >
                    <div class="normal">
                        <a href="#" onclick="return false;" class="upload-btn btn btn18" for="img_input2">
                            <span class="text"> 上传采集</span>
                        </a>
                        <div style="margin-top: 25px" class="note">也可以拖拽图片到该区域，完成上传</div>
                        <div style="margin: 10px 0 25px" class="sub">支持单张 10m 以内图片上传</div>
                        <div style="margin-top: 20px; font-size: 12px" class="sub">[提示]请严格遵守保密法律法规，严禁在互联网上存储、处理、传输、发布涉密信息</div>

                    </div>
                    <div style="display: none" class="draging">
                        <div class="note">释放鼠标以上传</div>
                    </div>
                    <div style="display: none" class="uploading">
                        <div class="animate">上传中...</div>
                    </div>
                    <div class="dropzone dz-clickable">
                        <div class="dz-default dz-message"><span>拖动文件到这里上传</span></div>
                    </div>
                </div>
                <div id="upload_view" style="display: none">
                    <div class="pin-create">
                        <div class="preview">
                            <div id="preview" class="image">
                            </div>
                            <textarea id="preview-desc" placeholder="点击添加描述..." class="description"></textarea>
                        </div>
                        <div class="right-part">
                            board
                        </div>
                    </div>
                </div>

            </div>
            <div class="modal-footer">
                <button type="button" id="upload-close" class="btn" data-dismiss="modal">Close</button>
                <button type="button" id="upload-submit" class="btn">Save changes</button>
            </div>
        </div>
    </div>
</div>
<!-- Get 图片的modal层-->
<div class="modal fade" id="get_image_modal" role="dialog" aria-hidden="true" aria-labelledby="exampleModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Get图片</h5>
            </div>
            <div class="modal-body">
                <div id="get_image_view">
                    <div class="pin-create">
                        <div class="preview">
                            <div id="get-preview-image" class="image">
                            </div>
                            <textarea id="get-preview-image-desc" placeholder="点击添加描述..." class="description"></textarea>
                        </div>
                        <div class="right-part">
                            <input placeholder="搜索或创建Board" class="clear-input search-input">
                            <div class="board-divider"></div>
                            <div class="boardlist" data-id="35843606">
                                <div class="scrollable">
                                    <div class="recent">

                                    </div>
                                </div>
                            </div>
                            <div class="text-block-divider"></div>
                            <div class="text-block">
                                <div style="display: none;" class="createboard" data-text="">
                                    <i class="icon add"></i>创建Board “<span class="text"></span>”
                                </div>
                                <div class="tag-inputs">
                                    <input placeholder="输入文字，按空格或回车以生成标签" class="clear-input tag-input">
                                </div>
                                <div class="tag-bar">
                                    <div style="display: block;" class="normal"><span class="title">推荐标签</span>
                                        <span class="tags">
                                            <div class="tag">素材</div>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" id="get-image-close" class="btn " data-dismiss="modal">Close</button>
                <button type="button" id="get-image-submit" class="btn " data-image="" data-desc="" data-image-id="" data-board-id="">Get Image</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade splitwide" id="preview_modal" role="dialog" aria-hidden="true" aria-labelledby="previewModalLabel" style="background: none; border: 0px; -webkit-box-shadow: none; box-shadow: none; ">
    <div class="modal-dialog pin-view" role="document">
        <div class="pin-view-wrapper modal-body">
            <div class="main-part">
                <div class="image-piece piece">
                    <div class="tool-bar">asdfasdf</div>
                    <div class="main-image"></div>
                </div>
            </div>
            <div class="side-part">
                <div class="board-piece piece">
                    <div class="board-info">adfsdafsdaf</div>
                </div>
            </div>
        </div>
    </div>
</div>

<%- Loader('/public/pics.min.js')
.js('/public/libs/masonry.pkgd.js')
.js('/public/libs/imagesloaded.pkgd.min.js')
.js('/public/libs/Q.Uploader.all.js')
.js('/public/libs/Q.Uploader.image.all.js')
.js('/public/javascripts/pics.js')
.done(assets, config.site_static_host, config.mini_assets)
%>
